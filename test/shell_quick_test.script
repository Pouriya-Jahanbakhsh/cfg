% Auto-generated by https://github.com/Pouriya-Jahanbakhsh/estuff

% Have a quick test in 'make shell' using test().
%application:start('cfg').


    _ = lists:foreach(fun({K, _}) -> application:unset_env(cfg, K) end, application:get_all_env(cfg)),
    Cfg = [
        {host, <<"1.1.1.1">>},
        {port, 8080}
    ],
    Filters = [
        {host, {'&', [binary, {f, fun(X) -> {ok, erlang:binary_to_list(X)} end}]}, "127.0.0.1"},
        {port, {'&', [integer, {size, {min, 0}}, {size, {max, 65535}}]}}
    ],
    _ = lists:foreach(fun({K, V}) -> application:set_env(cfg, K, V) end, Cfg),
    _ = ets:new(cfg, [named_table, public]),
    Filters.